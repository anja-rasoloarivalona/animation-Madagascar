$(document).ready(function(){window.onbeforeunload=function(){window.scroll({top:0,left:0})};var e=new TimelineMax;e.to(".transition",.1,{display:"block"}).to(".transition__inner",.5,{y:0}).to(".transition__inner",1,{y:"-100%"},"+=1"),e.pause(),$("#roadtrip").click(function(){e.play(),(new TimelineMax).to(".intro",.1,{opacity:0},"+=1").to(".city__section",.1,{display:"block",y:"-100vh"}).to(".city__imgContainer",.1,{display:"none"}).to(".city__resume",.1,{display:"none"}).to(".city__section__bg__map",.1,{display:"block"}),setTimeout(function(){window.scroll({top:0,left:0})},500),setTimeout(function(){t.forEach(e=>{var t=new TimelineLite;t.add(TweenLite.fromTo(`.city__section__bg__dest--${e.current}__point__active`,.1,{opacity:1},{opacity:0})),t.add(TweenLite.to(`.city__section__bg__dest--${e.current}__point__active`,.1,{opacity:0})),t.add(TweenLite.to(`.city__section__bg__car--${e.current}`,4,{bezier:e.path})),t.add(TweenLite.fromTo(`.city__section__bg__dest--${e.next}__point__active`,.1,{opacity:0},{opacity:1,display:"block"})),t.add(TweenLite.fromTo(`.city__section__bg__car--${e.current}`,.1,{opacity:1},{opacity:0})),t.add(TweenLite.fromTo(`.city__section__bg__car--${e.next}`,.1,{opacity:0},{opacity:1,display:"block"})),t.add(TweenLite.fromTo(`.city__section__${e.current}__bg`,1,{opacity:1},{opacity:0})),t.add(TweenLite.fromTo(`.city__section__${e.next}__bg img`,1,{opacity:0},{opacity:1},"-=1")),t.add(TweenLite.fromTo(`.city__section__dest__title--${e.next}`,2,{opacity:0},{opacity:1},"-=2"));var o=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:`.city__section__${e.next}`,duration:"80%",trigerHook:1,offset:-340}).setTween(t).addIndicators().addTo(o)})},2e3)});var t=[diegoMajunga={current:"diego",next:"majunga",path:{type:"soft",curviness:1.5,autoRotate:["x","y","rotation",90,!1],values:[{x:0,y:0},{x:-5,y:50},{x:-10,y:70},{x:-15,y:90},{x:-90,y:110}]}},majungaTana={current:"majunga",next:"tana",path:{type:"soft",curviness:1.5,autoRotate:["x","y","rotation",90,!1],values:[{x:0,y:0},{x:0,y:90}]}},tanaTamatave={current:"tana",next:"tamatave",path:{type:"soft",curviness:5,autoRotate:!1,values:[{x:0,y:-5},{x:20,y:-10},{x:30,y:-15},{x:40,y:-20},{x:92,y:-40}]}},tamataveFianara={current:"tamatave",next:"fianara",path:{type:"soft",curviness:1.5,autoRotate:!1,values:[{x:0,y:0},{x:-93,y:129}]}},fianaraTulear={current:"fianara",next:"tulear",path:{type:"soft",curviness:1.5,autoRotate:!1,values:[{x:0,y:0},{x:-87,y:75}]}}]}),$(document).ready(function(){var e=new TimelineMax;e.set(".intro__title__letter",{y:-30,x:0,scale:3,marginLeft:-40}),e.staggerTo(".intro__title__letter",1,{opacity:1,x:0,y:0,scale:1,rotation:0,marginLeft:0,ease:Power2.easeOut},.25,"+=1"),(new TimelineMax).set(".loader__cta",{y:20}).to(".loader__subtitle",1,{opacity:1,y:0}).to(".loader__cta",1,{opacity:1,y:0},"+=2"),$(".loader__cta.btn").click(function(){(new TimelineMax).set(".intro__img",{scale:1.2}).to(".loader",".5",{y:"-100vh"}).to(".intro__img",20,{scale:1}).to(".intro__imgContainer",2,{borderRadius:"50%"},"-=20")}),$("#video-play").click(function(e){$("#video")[0].src="https://www.youtube.com/embed/qgxFh8sqBbg?autoplay=1&mute=1",e.preventDefault(),(new TimelineMax).to(".video__text",.5,{opacity:0,zIndex:-1}).to(".video__container",.5,{opacity:1,zIndex:3e3}),$(".video__container").click(function(){(new TimelineMax).to(".video__text",.5,{opacity:1,zIndex:10}).to(".video__container",.5,{opacity:0,zIndex:-1}),$("#video")[0].src="https://www.youtube.com/embed/qgxFh8sqBbg",e.preventDefault()})});var t=!1;$(".navbar").click(function(){return t?($("html").css("overflow-y",""),$(".sidenav").removeClass("open"),$(this).removeClass("open"),t=!1):($("html").css("overflow-y","hidden"),$(this).addClass("open"),$(".sidenav").addClass("open"),t=!0)});["tulear","majunga","toamasina","diego","fianara"].forEach(function(e){$(`.city__resume__text__list--${e}`).mouseenter(function(){$(`.city__img--${e}`).css("z-index",2)}),$(`.city__resume__text__list--${e}`).mouseleave(function(){$(`.city__img--${e}`).css("z-index","")})}),new TimelineMax({repeat:-1}).to(".intro__img--2",5,{autoAlpha:1},"+=5").to(".intro__img--2",5,{autoAlpha:0});var o=new TimelineMax;o.to(".intro",1,{y:-60,ease:Power2.easeOut},"-=.5").to(".services",1,{y:-60,ease:Power2.easeOut},"-=1");var a=new ScrollMagic.Controller,i=(new ScrollMagic.Scene({triggerElement:".offer",trigerHook:0,duration:"100%"}).setTween(o).addTo(a).offset(-340),0);$(window).on("scroll",function(){$(".nav").toggleClass("nav__hide",$(window).scrollTop()>i),i=$(window).scrollTop()});var n=new TimelineMax;n.set(".nav__layer",{opacity:0}).to(".nav__layer",.3,{opacity:1});a=new ScrollMagic.Controller,new ScrollMagic.Scene({triggerElement:".services",trigerHook:0}).setTween(n).addTo(a).offset(0)});